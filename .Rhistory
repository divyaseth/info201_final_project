shiny::runApp()
runApp()
runApp()
View(first_page)
data <- year_data <- read.csv(file = "data/2009-2013.csv", stringsAsFactors = FALSE)
sugar_calorie <- read.csv(file = "data/sugar_calorie.csv", stringsAsFactors = FALSE)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
year_data <- read.csv(file = "data/2009-2013.csv", stringsAsFactors = FALSE)
sugar_calorie <- read.csv(file = "data/sugar_calorie.csv", stringsAsFactors = FALSE)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
View(data)
View(data)
unique(data$region)
data %>% filter(country != "United Arab Emirates" | country != "Bahrain" |
country != "Iran, Islamic Rep." | country != "Iraq" |
country != "Jordan" | country != "Kuwait"| country != "Lebanon" |
country != "Malta" | country != "Oman" | country != "Qatar" |
country != "Saudi Arabia" | country != "Syrian Arab Republic" |
country != "Yemen, Rep.")
data <- data %>% filter(country != "United Arab Emirates" | country != "Bahrain" |
country != "Iran, Islamic Rep." | country != "Iraq" |
country != "Jordan" | country != "Kuwait"| country != "Lebanon" |
country != "Malta" | country != "Oman" | country != "Qatar" |
country != "Saudi Arabia" | country != "Syrian Arab Republic" |
country != "Yemen, Rep.")
View(data)
output$africa <- renderPlot({
data <- data %>%
filter(region == "Sub-Saharan Africa" | "Middle East & North Africa")
filter(country != "United Arab Emirates" | country != "Bahrain" |
country != "Iran, Islamic Rep." | country != "Iraq" |
country != "Jordan" | country != "Kuwait"| country != "Lebanon" |
country != "Malta" | country != "Oman" | country != "Qatar" |
country != "Saudi Arabia" | country != "Syrian Arab Republic" |
country != "Yemen, Rep.")
})
data <- data %>%
filter(region == "Sub-Saharan Africa" | "Middle East & North Africa")
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa")
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.")
View(data)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(diff_life = le_2012 - le_2011,
diff_sugar = sugar_X2012 - sugar_X2011)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(diff_life = le_2012 - le_2011,
diff_sugar = sugar_X2012 - sugar_X2011)
View(data)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(diff_life = le_2011 - le_2012,
diff_sugar = sugar_X2011 - sugar_X2012)
View(data)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(diff_life = le_2011 - le_2012,
diff_sugar = sugar_X2011 - sugar_X2012) %>%
filter(!is.na(diff_life)) %>%
filter(!is.na(diff_sugar))
map_shape <- map_data("world")
View(map_shape)
View(data)
name <- data$country[[6]]
data$country[[6]] <- "Ivory Coast"
data$country[[8]] <- "Democratic Republic of the Congo"
data <- data %>%
left_join(map_shape, by = c("country" = "region"))
View(data)
runApp()
View(data)
data <- data %>%
left_join(map_shape, by = c("country" = "region"))
View(data)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(diff_life = le_2011 - le_2012,
diff_sugar = sugar_X2011 - sugar_X2012) %>%
filter(!is.na(diff_life)) %>%
filter(!is.na(diff_sugar))
data$country[[6]] <- "Ivory Coast"
data$country[[8]] <- "Democratic Republic of the Congo"
map_shape <- map_data("world")
data <- data %>%
left_join(map_shape, by = c("country" = "region"))
View(data)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(`Change in sugar intake` = le_2011 - le_2012,
`Change in life expectancy` = sugar_X2011 - sugar_X2012) %>%
filter(!is.na(diff_life)) %>%
filter(!is.na(diff_sugar))
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- data %>%
filter(region == "Sub-Saharan Africa" | region == "Middle East & North Africa") %>%
filter(country != "United Arab Emirates" & country != "Bahrain" &
country != "Iran, Islamic Rep." & country != "Iraq" &
country != "Jordan" & country != "Kuwait" & country != "Lebanon" &
country != "Malta" & country != "Oman" & country != "Qatar" &
country != "Saudi Arabia" & country != "Syrian Arab Republic" &
country != "Yemen, Rep.") %>%
select(country, le_2011, le_2012, sugar_X2011, sugar_X2012) %>%
mutate(`Change in sugar intake` = le_2011 - le_2012,
`Change in life expectancy` = sugar_X2011 - sugar_X2012) %>%
filter(!is.na(`Change in life expectancy`)) %>%
filter(!is.na(`Change in sugar intake`))
data$country[[6]] <- "Ivory Coast"
data$country[[8]] <- "Democratic Republic of the Congo"
map_shape <- map_data("world")
data <- data %>%
left_join(map_shape, by = c("country" = "region"))
ggplot(data = data) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = data[[input$diff]]),
color = "white",
size = .1
) +
scale_fill_brewer(palette = "Set3") +
labs(title = paste0(input$diff, "during 2011 Africa food crisis"),
fill = input$diff)
ggplot(data = data) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = `Change in sugar intake`),
color = "white",
size = .1
) +
scale_fill_brewer(palette = "Set3") +
labs(title = paste0(input$diff, "during 2011 Africa food crisis"),
fill = input$diff)
ggplot(data = data) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = `Change in sugar intake`),
color = "white",
size = .1
) +
scale_fill_brewer(palette = "Set3") +
labs(title = paste0("Change in sugar intake", "during 2011 Africa food crisis"),
fill = "Change in sugar intake")
ggplot(data = data) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group, fill = `Change in sugar intake`),
color = "white",
size = .1
) +
labs(title = paste0("Change in sugar intake", "during 2011 Africa food crisis"),
fill = "Change in sugar intake")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
year_data <- read.csv(file = "data/2009-2013.csv", stringsAsFactors = FALSE)
sugar_calorie <- read.csv(file = "data/sugar_calorie.csv", stringsAsFactors = FALSE)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
library("dplyr")
data <- left_join(year_data, sugar_calorie, by = "country") %>%
select(-X)
View(data)
View(sugar_calorie)
View(year_data)
View(data)
View(data)
View(sugar_calorie)
View(year_data)
View(sugar_calorie)
#
sugar_year <- sugar_calorie %>%
select(-X, -calorie_X2009, -calorie_X2010, -calorie_X2011, -calorie_X2012, -calorie_X2013)
View(sugar_year)
View(sugar_calorie)
View(sugar_calorie)
shiny::runApp()
runApp()
runApp()
